---
title: æœ¬åœ°ä»£ç é€šè¿‡gitä¸Šä¼ åˆ°vps
date: 2025-10-28
tags: [vps,linux,git]
---

# æœ¬åœ°ä»£ç é€šè¿‡gitä¸Šä¼ åˆ°vps

è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æƒ³æ³•ï¼ä½¿ç”¨ Git ä¸ä»…èƒ½å¤‡ä»½ä½ çš„ä»£ç ï¼Œè¿˜èƒ½è®©ä½ åœ¨æœ¬åœ°ä¿®æ”¹åï¼Œè½»æ¾åŒæ­¥åˆ° VPS æœåŠ¡å™¨ä¸Šã€‚

ä½†æ˜¯ï¼Œåœ¨ä¸Šä¼ ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ª**æå…¶é‡è¦**çš„å®‰å…¨éšæ‚£éœ€è¦å¤„ç†ã€‚

ä»¥ä¸‹æ˜¯â€œæœ€ä½³å®è·µâ€çš„æ“ä½œæŒ‡å—ï¼Œåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š

### ğŸ›‘ ç¬¬ä¸€é˜¶æ®µï¼šå®‰å…¨å¤„ç†ï¼ˆå¿…é¡»åšï¼ï¼‰

æˆ‘æŸ¥çœ‹äº†ä½ çš„ `app.py`ï¼Œå‘ç°é‡Œé¢ç›´æ¥å†™äº† **Channel Secret** å’Œ **Token**ã€‚
å¦‚æœç›´æ¥ä¸Šä¼ åˆ° GitHubï¼ˆå³ä½¿æ˜¯ç§æœ‰ä»“åº“ï¼‰ï¼Œè¿™äº›å¯†é’¥ä¹Ÿå¾ˆå®¹æ˜“æ³„éœ²ã€‚ä¸€æ—¦æ³„éœ²ï¼Œåˆ«äººå¯ä»¥ç”¨ä½ çš„ Bot å‘é€ä»»ä½•æ¶ˆæ¯ã€‚

**è¯·å…ˆä¿®æ”¹ä»£ç ï¼ŒæŠŠæ•æ„Ÿä¿¡æ¯åˆ†ç¦»å‡ºæ¥ï¼š**

1.  **åœ¨æœ¬åœ°é¡¹ç›®æ–‡ä»¶å¤¹é‡Œï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å« `config.py`**ï¼š

    ```python
    # config.py
    CHANNEL_ID = "******"
    CHANNEL_SECRET = "*******"
    USER_IDS = [
        "******",
        "******"
    ]
    ```

2.  **ä¿®æ”¹ `app.py` å¯¼å…¥é…ç½®**ï¼š
    åˆ é™¤åŸæ¥çš„å®šä¹‰ï¼Œæ”¹ä¸ºï¼š

    ```python
    import config  # å¯¼å…¥åˆšæ‰çš„æ–‡ä»¶

    # è°ƒç”¨æ—¶æ”¹æˆ config.CHANNEL_ID ç­‰
    # ä¾‹å¦‚ï¼š
    # access_token = get_access_token(config.CHANNEL_ID, config.CHANNEL_SECRET)
    ```

3.  **åˆ›å»º `.gitignore` æ–‡ä»¶**ï¼š
    è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰ Gitï¼šâ€œè¿™äº›æ–‡ä»¶æˆ‘ä¸ä¸Šä¼ â€ã€‚
    æ–°å»ºæ–‡ä»¶ `.gitignore`ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š

    ```text
    config.py
    sent_cards.json
    __pycache__/
    *.log
    .DS_Store
    ```

      * **`config.py`**: ä¿æŠ¤ä½ çš„å¯†é’¥ã€‚
      * **`sent_cards.json`**: è¿™æ˜¯è®°å½•â€œå·²å‘é€å¡ç‰‡â€çš„çŠ¶æ€æ–‡ä»¶ã€‚æœåŠ¡å™¨ä¸Šè¿è¡Œè„šæœ¬ä¼šä¿®æ”¹å®ƒï¼Œå¦‚æœä½ æŠŠå®ƒä¸Šä¼ äº†ï¼Œæ¯æ¬¡æœåŠ¡å™¨ä¸€è·‘ï¼Œä½ æœ¬åœ°ä»£ç å°±ä¼šå†²çªã€‚è®©æœåŠ¡å™¨è‡ªå·±ç»´æŠ¤è¿™ä¸ªæ–‡ä»¶å°±å¥½ã€‚

-----

### ğŸš€ ç¬¬äºŒé˜¶æ®µï¼šåˆå§‹åŒ– Git å¹¶ä¸Šä¼  (æœ¬åœ°æ“ä½œ)

å‡è®¾ä½ å·²ç»åœ¨æœ¬åœ°å®‰è£…äº† Gitï¼ˆå¦‚æœæ²¡æœ‰ï¼Œå» git-scm.com ä¸‹è½½ï¼‰ã€‚

1.  **æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥ä½ çš„é¡¹ç›®æ–‡ä»¶å¤¹**ï¼š

    ```bash
    cd ~/myproject  # ä½ çš„æ–‡ä»¶å¤¹è·¯å¾„
    ```

2.  **åˆå§‹åŒ–ä»“åº“**ï¼š

    ```bash
    git init
    ```

3.  **æ·»åŠ æ–‡ä»¶**ï¼š

    ```bash
    git add .
    ```

    *(è¿™ä¸€æ­¥ä¼šè‡ªåŠ¨å¿½ç•¥ `.gitignore` é‡Œçš„æ–‡ä»¶)*

4.  **æäº¤ç¬¬ä¸€æ¬¡ç‰ˆæœ¬**ï¼š

    ```bash
    git commit -m "Initial commit: LINE Bot basic logic"
    ```

5.  **åœ¨ GitHub ä¸Šåˆ›å»ºä»“åº“**ï¼š

      * ç™»å½• GitHubï¼Œç‚¹å‡»å³ä¸Šè§’ `+` -\> `New repository`ã€‚
      * èµ·ä¸ªåï¼ˆæ¯”å¦‚ `daily-line-bot`ï¼‰ã€‚
      * **å»ºè®®é€‰ Private (ç§æœ‰)**ï¼Œè™½ç„¶æˆ‘ä»¬åˆ†ç¦»äº†å¯†é’¥ï¼Œä½†ç§äººé¡¹ç›®è¿˜æ˜¯ç§æœ‰å¥½ã€‚
      * ç‚¹å‡» `Create repository`ã€‚

6.  **è¿æ¥å¹¶æ¨é€**ï¼š
    GitHub ä¼šç»™ä½ ä¸¤è¡Œä»£ç ï¼Œç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼ˆå¤åˆ¶ä½ é¡µé¢ä¸Šçš„ï¼‰ï¼š

    ```bash
    git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/daily-line-bot.git
    git push -u origin main
    ```

-----

### â˜ï¸ ç¬¬ä¸‰é˜¶æ®µï¼šåœ¨ VPS ä¸Šéƒ¨ç½²å’Œæ›´æ–°

ç°åœ¨ä»£ç å·²ç»åœ¨äº‘ç«¯äº†ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ VPS å’Œå®ƒè¿æ¥èµ·æ¥ã€‚

#### ç¬¬ä¸€æ¬¡éƒ¨ç½²ï¼ˆåœ¨ VPS ä¸Šï¼‰ï¼š

1.  **ç™»å½• VPS**ã€‚

2.  **å…‹éš†ä»£ç **ï¼š

    ```bash
    git clone https://github.com/ä½ çš„ç”¨æˆ·å/daily-line-bot.git line_jp
    ```

    *(å®ƒä¼šè®©ä½ è¾“å…¥ GitHub ç”¨æˆ·åå’Œå¯†ç ã€‚æ³¨æ„ï¼šç°åœ¨çš„å¯†ç é€šå¸¸éœ€è¦ç”¨ Personal Access Token)*

3.  **è¡¥å……è¢«å¿½ç•¥çš„æ–‡ä»¶**ï¼š
    å› ä¸º `config.py` è¢«å¿½ç•¥äº†ï¼Œä½ éœ€è¦**æ‰‹åŠ¨**åœ¨ VPS ä¸Šåˆ›å»ºå®ƒï¼š

    ```bash
    cd line_jp
    nano config.py
    # æŠŠå¯†é’¥å¡«è¿›å»ï¼Œä¿å­˜é€€å‡º
    ```

    *åŒç†ï¼Œ`sent_cards.json` ç¬¬ä¸€æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œä¸ç”¨ç®¡ã€‚*

#### ä»¥åå¦‚ä½•â€œç»å¸¸æ›´æ–°â€ï¼š

å½“ä½ æœ¬åœ°ä¿®æ”¹äº†ä»£ç ï¼ˆæ¯”å¦‚ä¼˜åŒ–äº†é€»è¾‘ï¼‰ï¼š

1.  **æœ¬åœ° (Local)**ï¼š

    ```bash
    git add .
    git commit -m "ä¼˜åŒ–äº†å‘é€é€»è¾‘"
    git push
    ```

2.  **æœåŠ¡å™¨ (VPS)**ï¼š

    ```bash
    cd ~/daily-line-jp-bot
    git pull
    ```

    *è¿™å°±æå®šäº†ï¼ä»£ç ç¬é—´åŒæ­¥æˆæœ€æ–°çš„ï¼Œè€Œä¸”ä¸ä¼šè¦†ç›–ä½ æœåŠ¡å™¨ä¸Šç‹¬æœ‰çš„ `config.py` å’Œ `sent_cards.json`ã€‚*

-----

### ğŸ’¡ è¿›é˜¶å°è´´å£«ï¼šå…å¯†æ›´æ–°

å¦‚æœä½ è§‰å¾—æ¯æ¬¡ `git pull` éƒ½è¦è¾“å…¥å¯†ç å¾ˆçƒ¦ï¼Œå¯ä»¥åœ¨ VPS ä¸Šé…ç½® **SSH Key**ï¼š

1.  VPS ä¸Šè¿è¡Œ `ssh-keygen`ã€‚
2.  æŠŠç”Ÿæˆçš„ `~/.ssh/id_rsa.pub` å†…å®¹å¤åˆ¶åˆ° GitHub çš„ **Settings -\> SSH and GPG keys** é‡Œã€‚
3.  ä»¥åç”¨ `git clone git@github.com:...` çš„æ–¹å¼ï¼Œå°±å†ä¹Ÿä¸ç”¨è¾“å¯†ç äº†ã€‚